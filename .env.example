# ============================================
# REQUIRED CONFIGURATION (Must-Have)
# ============================================

# Database - IMPORTANT: Must use Neon PostgreSQL (not local PostgreSQL)
# This project uses @neondatabase/serverless which requires WebSocket support
# Get your connection string from: https://console.neon.tech
DATABASE_URL="postgresql://username:password@ep-xxxxx.region.aws.neon.tech/dbname?sslmode=require"

# Session Management - Generate a random string for session security
SESSION_SECRET="your-session-secret-here"

# Firebase Configuration (for authentication and storage)
# Get these values from Firebase Console -> Project Settings -> General -> Your apps -> Web app
# If you don't have a web app, click "Add app" and select Web

# Server-side Firebase Admin SDK (choose ONE of the following two options):
# Option 1: Path to your Firebase Admin SDK JSON file (recommended for local development)
GOOGLE_APPLICATION_CREDENTIALS="path/to/firebase-admin-key.json"
# Option 2: Inline JSON string (alternative to file path, useful for deployment)
# FIREBASE_SERVICE_ACCOUNT_KEY='{"type":"service_account","project_id":"...","private_key_id":"...","private_key":"..."}'

# Client-side Firebase configuration (ALL required - get from Firebase Console)
VITE_FIREBASE_PROJECT_ID="your-project-id"
VITE_FIREBASE_API_KEY="AIzaSy..."
VITE_FIREBASE_AUTH_DOMAIN="your-project-id.firebaseapp.com"
VITE_FIREBASE_MESSAGING_SENDER_ID="123456789"
VITE_FIREBASE_APP_ID="1:123456789:web:abc123"

# Firebase Storage bucket (usually auto-generated from project ID)
FIREBASE_STORAGE_BUCKET="your-project-id.firebasestorage.app"

# ============================================
# EMAILSUBTRACKER CONFIGURATION
# ============================================
# Required for EmailSubTracker features

# Google Cloud Platform - Gmail API OAuth 2.0
# 1. Go to: https://console.cloud.google.com/
# 2. Create a new project or select existing
# 3. Enable Gmail API: https://console.cloud.google.com/apis/library/gmail.googleapis.com
# 4. Create OAuth 2.0 credentials:
#    - Go to: https://console.cloud.google.com/apis/credentials
#    - Click "Create Credentials" â†’ "OAuth client ID"
#    - Application type: "Web application"
#    - Authorized redirect URIs:
#      * http://localhost:5000/api/gmail/callback (for development)
#      * https://yourdomain.com/api/gmail/callback (for production)
GOOGLE_CLIENT_ID="123456789-abcdefghijklmnop.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="GOCSPX-your-client-secret-here"
GOOGLE_REDIRECT_URI="http://localhost:5000/api/gmail/callback"

# OAuth Token Encryption
# IMPORTANT: Generate a random 32-character string for production
# Example: openssl rand -base64 32
OAUTH_TOKEN_ENCRYPTION_KEY="your-random-32-character-key-here!!"

# ============================================
# OPTIONAL CONFIGURATION
# ============================================
# The app will run without these, but certain features will be disabled

# Stripe (for payments) - Optional: Only needed if using payment features
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."
STRIPE_PRICE_ID_PRO="price_test_pro_subscription_id"

# SendGrid (for emails) - Optional: Only needed if sending emails
SENDGRID_API_KEY="SG...."

# PostHog (for analytics) - Optional: Analytics will be disabled if not provided
POSTHOG_API_KEY="phc_..."
POSTHOG_HOST="https://app.posthog.com"

# OpenAI (for AI chat functionality) - Optional: Only needed if using AI features
OPENAI_API_KEY="sk-your-openai-api-key-here"
# Optional AI configuration
AI_MODEL_FREE="gpt-4o-mini"
AI_MODEL_PRO="gpt-4o"
OPENAI_MODEL="gpt-4o-mini"
AI_MAX_TOKENS=1024
AI_TEMPERATURE=0.7
AI_TOP_P=1
AI_SYSTEM_PROMPT="You are a helpful, concise assistant. Avoid unsafe or sensitive outputs."
AI_RATE_LIMIT_WINDOW_MS=60000
AI_RATE_LIMIT_MAX=20
AI_MAX_STEPS=3

# Frontend/Deployment Configuration - Optional: Defaults to localhost in development
FRONTEND_URL="http://localhost:5000"
# Port to run the server on
PORT="5000"
